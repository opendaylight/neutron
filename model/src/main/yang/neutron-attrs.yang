//
// Copyright (c) 2012-2014 by Brocade Communications Systems, Inc. All Rights Reserved.
//
// This software is licensed, and not freely redistributable. See the
// license agreement for details.
//
module neutron-attrs {

    yang-version 1;

    namespace "urn:opendaylight:neutron-attrs";

    prefix neutron-attrs;

    import ietf-yang-types { prefix "yang";}
    // It requires rfc6991 (revision 2013-07-15), but odl don't have it, so this patch verify build will fail.
    import ietf-inet-types { prefix "inet"; revision-date 2010-09-24; }

    organization "OpenDaylight Neutron Group";

    contact "J. Gregory Hall <ghall@brocade.com>";

    description "This YANG module defines groupings that are used by Openstack
        Ice House Neutron YANG modules.";

    revision "2014-10-02" {
        description
                "Initial version of attributes used by OpenStack Ice House Neutron
                models";
    }

    // Defining this until ODL migrates to latest ietf-inet-types to avoid errors
    typedef uuid {
        type string {
            pattern '[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-'
            + '[0-9a-fA-F]{4}-[0-9a-fA-F]{12}';
        }
        description
                "A Universally Unique IDentifier in the string representation
                defined in RFC 4122. The canonical representation uses lowercase
                characters. The following is an example of a UUID in string representation:
                f81d4fae-7dec-11d0-a765-00a0c91e6bf6 ";
        reference
                "RFC 4122: A Universally Unique IDentifier (UUID) URN Namespace";
    }

    identity network-type-base {
        description
                "Base Network type for all Network type identifiers.";
    }

    identity network-type-flat {
        base neutron-attrs:network-type-base;
        description
                "Flat network type identity.";
    }
    identity network-type-vlan {
        base neutron-attrs:network-type-base;
        description
                "VLAN network type identity.";
    }
    identity network-type-vxlan {
        base neutron-attrs:network-type-base;
        description
                "VXLAN network type identity.";
    }
    identity network-type-gre {
        base neutron-attrs:network-type-base;
        description
                "GRE network type identity.";
    }

    typedef network-type {
        type identityref {
            base network-type-base;
        }
        description
                "This type is used to refer to a Network Type.";
    }

    grouping base-attrs {

        leaf uuid {
            type uuid;
            description "UUID to index this neutron object.";
        }

        leaf name {
            type string;
            description "Human-readable name for the item. Might not be unique.";
        }

        leaf tenant-id {
            type uuid;
            description "Admin-only. The UUID of the tenant that will own the network.
                        This tenant can be different from the tenant that makes the create
                        network request. However, only administrative users can specify
                        a tenant ID other than their own. You cannot change this value
                        through authorization policies.";
        }
    }

    grouping admin-attrs {
        leaf admin-state-up {
            type boolean;
            description "The administrative state of the network, which is up (true) or
                        down (false).";
        }
        leaf status {
            type string;
            description "The network status.";
        }
    }
}
